<!DOCTYPE html>
<html>


<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Ozamis Receipt System</title>

    <link rel="stylesheet" href="static/header-second-bar.css">
    <link href='http://fonts.googleapis.com/css?family=Cookie' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="static/dropdown.css">    
       <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">    <link href='http://fonts.googleapis.com/css?family=Cookie' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/css/jquery.dataTables_themeroller.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="static/indextest.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
<script src="4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
     <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   
<link rel="stylesheet" href="static/indextest.css">

<link href='http://fonts.googleapis.com/css?family=Cookie' rel='stylesheet' type='text/css'>




</head>



<body>


<header class="header-two-bars">

  <div class="header-first-bar">
    <div class="header-limiter">
      <h1><a href="/home">Municipality<span>Receipt</span></a></h1>
            <nav>
                <a href="/form" class="selected">FORM</a>
                <a href="/logs">LOGS</a>
                <a href="/query">REPORTS</a>
                <a href="/masterlist">MASTERLISTS</a>
                <div class="dropdown">
                <a href="#"  disabled>PERMIT ISSUANCE</a>
                <div class="dropdown-content">
                <a href="/issuebusinesspermit" style="color:black;">Business Permit</a>
                <p style="color:black;">_______________</p>
                <a href="/payments" style="color:black;">Official Receipt</a>


                </div>
                </div>


            </nav>

            <a href="/logout" class="logout-button">Logout</a>
    </div>
  </div>




  <div class="header-second-bar">
    <div class="header-limiter">
            <h2>User: {{ user }}</h2>

            <nav>
                <a href="/addparameters"><i class="fa fa-comments-o"></i> Nature of Collection</a>
                <a href="/user"><i class="fa fa-group"></i> User</a>
                <a href="/print"><i class="fa fa-cogs"></i> Admin Settings</a>
            </nav>

    </div>
 </div>

</header>





<!-- CONTENT HERE. -->





<div class="jumbotron jumbotron-sm">
    <div class="container" id = "contact">
        <div class="row">
            <div class="col-sm-12 col-lg-12">
                <h1 class="h1">
                    Accountable Form 51 <small>Made easier</small></h1>
            </div>
        </div>
    </div>
</div>




<div class="container">
    <div class="row">
        <div class="col-md-12" style="display: inline-block;">
            <div class="well well-sm">
            <form action="{{ url_for('addrec') }}"  method=post>
                <div class="row">
                    <div class="col-md-6" style="display: inline-block; ">
                        <div class="form-group">
                            <label for="name">
                                O.R Number</label>
                              <br>
                           <span class="glyphicon glyphicon-user-list-alt"><input type="hidden" name="OR" value="{{receiptno}}">
                           <br>
                           <h1>#{{receiptno}}</h1></span><br>
                        </div>
                        <br>
                        <br>

                        <div class="form-group">


                            <label for="email">
                                Payor</label>
                            <div class="input-group">
                                <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span>
                                </span>
                                <input type="text" class="form-control" name = "payor" id="payor" placeholder="Enter Full Name" required="required" /></div>
                        </div>
                        <div class="form-group">
                            <label for="subject">
                                Nature of Payment</label>
                                <div id="RadioGroup">
                                <br>
                                <input type="radio" name="paymentmethod"  checked="checked" value="CASH"> Cash<br>
                                <input type="radio" name="paymentmethod" value="CHECK"> Check<br>


                                <div id="PaymentsCHECK" class="desc" style="display: none;">
                                <br>
                                Drawee Bank<br><input type="text" name="dbank"><br>
                                Account No.<br><input type="text" name="dNum"><br>
                                Date Issued<br><input type="text" name="dDate"><br>
                                Account Name<br><input type="text" name="dName"><br>

                                </div>


                                <input type="radio" name="paymentmethod" value="MONEY"> Money Order<br>

                                <div id="PaymentsMONEY" class="desc" style="display: none;">
                                <br>
                                Money Order No.<br><input type="text" name="dbank">
                                </div> 

                                </div>

                        </div> <!-- FORM GROUP END -->


                        <div class="form-group">
                            <label for="name">
                                Memo</label>
                            <textarea name="message" id="message" class="form-control" rows="5" cols="25" required="required"
                                placeholder="Message"></textarea>
                        </div>

          <!-- <div class="col-md-12">
                  <button type="submit" class="btn btn-primary pull-right" id="btnContactUs">
                        Submit Form</button>
                          <br>
                    </div>
          </div> -->
                    </div><!-- FIRST COL6 END -->
              </div><br><br><br><br><!-- ROW END -->

              <form>

              <div class="col-md-5" style="display: inline-block; ">
                <div class="jumbotron">
                    <h2>Type in Nature of Collection...</h2>
                    <form name="noc">  

                      <input class="form-control input-lg" id="form" list="languages" placeholder="Search" type="text" required>
                      <br>
                      <input class="form-control input-lg" id="amount" list="languages" placeholder="Amount" type="number" required>
                      <br>
                      <button onclick="addRow(); return false;">Add Item</button>
                    </form>


              <datalist id="languages">

                {% for row in rows %}               
                  <option value = "{{row[0]}}">
                {% endfor %}

              </datalist>
               </div> <!-- JUMBO END -->

                <h6> <label>Date:<span></span>
                </label>   {{date}}</h6>
                <h3><fieldset disabled>
                <label>Total </label>
                  <h2>â‚±<input type = "text" name = "total" id="total"></h2>
                </fieldset></h3> 

                  <input type="hidden" id="javascript_data1" name="javascript_data1"/>
                  <input type="hidden" id="javascript_data2" name="javascript_data2"/>
                  <button type="submit">Submit</button>
                </form>  
                </div><!-- COL5 END -->



<!-- </div> --><!-- REMAIN OR NOT? DEPENDS ON DEBUG PROCESS LATER -->





<div class="col-md-6" style="display: inline-block;">
      <div class="jumbotron">
            <h2>Nature of Collection</h2>
      </div>
      <div>
      

<!-- ACCUMULATION TABLE STARTS -->
      <table id="datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
    <tr>
    <th>Nature of Collection</th>
    <th>Amount</th>
    <th></th>

    </tr>
        </thead>
<tbody>
<tr>
  
        </tr>     
</tbody>

</table>
<!-- </form> --> <!-- CHECK LATER -->


<datalist id="languages">
            {% for row in rows %}
            <option value={{row[0]}}></option>
            {% endfor %}
</datalist>

          </div>



          </form>



        </div>
    </div>
</div>
</div>





<script src="//code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script  src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/jquery.dataTables.min.js"></script>







<script type="text/javascript">
    
/*EDIT HERE LATER*/
$(document).ready(function() {
    $("input[name$='paymentmethod']").click(function() {
        var test = $(this).val();

        $("div.desc").hide();
        $("#Payments" + test).show();
    });
});

</script>






<script type="text/javascript">
    var all_name = [];
    var all_amount = [];

    function deleteRow(o){
     var p=o.parentNode.parentNode;
         p.parentNode.removeChild(p);

         name = document.getElementById("form").value,
         amount = document.getElementById("amount").value;
      delTotal(amount);
      del(name, amount);

      }

     function addRow()
      {

        var table = document.getElementById("datatable"),
          newRow = table.insertRow(table.length),
          cell1 = newRow.insertCell(0),
          cell2 = newRow.insertCell(1),
          cell3 = newRow.insertCell(2),

      
          name = document.getElementById("form").value,
          amount = document.getElementById("amount").value;

          delete1 = delete1 = '<input type="button"  class="btn btn-danger" class="glyphicon glyphicon-trash"id="delete" value="Delete" onclick="deleteRow(this)">';
        cell1.innerHTML = name;
        cell2.innerHTML = amount;
        cell3.innerHTML = delete1;

        findTotal();
        save(name, amount);
      }


 function findTotal(){
   var arr = document.querySelectorAll("#datatable td:nth-child(2)");
   var tot = 0;

   for(var i=0;i<arr.length;i++){
      var enter_value = Number(arr[i].textContent)
      if(enter_value)
                tot += Number(arr[i].textContent);
      }
   document.getElementById('total').value = tot;
 }

 function delTotal(amount){
   var tot = document.getElementById('total').value;
   var sub = tot - amount;
   
   document.getElementById('total').value = sub;
 }

 function save(name, amount){
  all_name.push(name);
  all_amount.push(amount);

  document.getElementById('javascript_data1').value = all_name.join();
  document.getElementById('javascript_data2').value = all_amount.join();
 }


 function del(name, amount){
  all_name.pop(name);
  all_amount.pop(amount);

  document.getElementById('javascript_data1').value = all_name.join();
  document.getElementById('javascript_data2').value = all_amount.join();
 }



</script>







</body>
</html>
